---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Hero from '../components/Hero.astro';
import ScrollSection from '../components/ScrollSection.astro';
import StatsCounter from '../components/StatsCounter.astro';
import HeroCTA from '../components/HeroCTA.astro';
import AudioModal from '../components/AudioModal.astro';
import ProductsGrid from '../components/ProductsGrid.astro';
import FeatureSection from '../components/FeatureSection.astro';
import { apps } from '../config/apps';
import { saas } from '../config/saas';

import NewsletterSection from '../components/NewsletterSection.astro';
import BlogSection from '../components/BlogSection.astro';
import NewsletterNotification from '../components/NewsletterNotification.astro';

import { getLangFromLocals, useTranslations, useTranslatedPath } from '../i18n/utils';

const lang = getLangFromLocals(Astro.locals);
const t = useTranslations(lang);
const translatePath = useTranslatedPath();

const stats = [
  { value: 60, label: t('stats.apps'), suffix: '+' },
  { value: 100, label: t('stats.users'), suffix: '%' },
];

const appProducts = apps.map(a => ({
  icon: a.icon,
  name: a.name,
  description: a.description[lang],
  link: a.link,
  notice: a.notice ? {
    type: a.notice.type,
    message: a.notice.message[lang]
  } : undefined
}));

const saasProducts = saas.map(s => ({
  icon: s.icon,
  name: s.name,
  description: s.description[lang],
  link: s.link
}));
---

<Layout title="Inled Group - Dream, build" description={t('scroll.description')}>
  <AudioModal />
  <Header />
  <Hero title={t('hero.title')} />
  <ScrollSection
    title={t('scroll.title')}
    description={t('scroll.description')}>
    <StatsCounter stats={stats} />
  </ScrollSection>

  <HeroCTA
    title={t('cta.title')}
    description={t('cta.description')}
    primaryButtonText={t('cta.primary')}
    secondaryButtonText={t('cta.secondary')}
    primaryButtonHref="/proyectos"
    secondaryButtonHref="#apps"
  />
  <FeatureSection
    title={t('feature.edge.title')}
    description={t('feature.edge.description')}
    imageSrc="https://hosted.inled.es/edgeai.png"
    buttonText={t('feature.edge.button')}
    buttonHref="https://edge.inled.es/landing"
    reversed={true}
  />

  <FeatureSection
    title={t('feature.ai.title')}
    description={t('feature.ai.description')}
    imageSrc="https://hosted.inled.es/ainclouddeco.png"
    buttonText={t('feature.ai.button')}
    buttonHref="https://ai.inled.es"
  />

  

  <div id="saas">
    <ProductsGrid title={t('grid.saas')} products={saasProducts} />
  </div>

  <div id="apps">
    <ProductsGrid title={t('grid.apps')} products={appProducts} />
  </div>

  <BlogSection />

  <NewsletterSection />
  <NewsletterNotification />
  
</Layout>
